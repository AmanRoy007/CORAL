<div>
  <!-- <app-header-footer></app-header-footer> -->
</div>
<div>
  <!-- <app-nav></app-nav> -->
</div>

<!--Breadcrumb Start-->
<div class="breadcrumb-ui" aria-label="breadcrumb">
  <ul>
    <li class="active" aria-current="page"><a href="#">Home</a></li>
    <li class="active" aria-current="page"><a href="#">Settings</a></li>
    <li>Manage Distributor</li>
  </ul>
</div>
<!--Breadcrumb End-->

<div class="sales-territries-wrp">
  <mat-drawer-container class="example-container">
    <mat-drawer mode="side" #drawer opened>
      <div class="manage-disti-left">
        <h3>Manage Distributor</h3>
        <button
          class="toggle-btn"
          (click)="toggleDrawerLeft()"
          [ngStyle]="isDrawerOpen ? {} : { display: 'none' }"
        >
          <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
      </div>
    </mat-drawer>
    <mat-drawer-content>
      <div class="manage-disti-wrp">
        <div
          class="manage-disti-controls"
          [ngStyle]="!isDrawerOpen ? {} : { 'justify-content': 'flex-end' }"
        >
          <button
            class="toggle-btn"
            (click)="toggleDrawerRight()"
            [ngStyle]="!isDrawerOpen ? {} : { display: 'none' }"
          >
            <mat-icon>keyboard_arrow_left</mat-icon>
          </button>

          <div class="search-inpt">
            <mat-form-field class="example-full-width">
              <mat-label>Search in the list...</mat-label>
              <input type="text" matInput />
            </mat-form-field>
          </div>
        </div>
        <table
          mat-table
          [dataSource]="dataSource"
          class="mat-elevation-z8"
          width="100%"
        >
          <!-- dots Column -->
          <ng-container matColumnDef="dots">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <button class="manage-disti-menu" [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="manageDistiEditOffcanvas()">
                  Edit Virtual scrolling
                </button>
                <button mat-menu-item (click)="manageDistiEditOffcanvas2()">
                  Edit pagination
                </button>
              </mat-menu>
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <!-- firstName Column -->
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef>Value</th>
            <td mat-cell *matCellDef="let element">{{ element.value }}</td>
          </ng-container>

          <!-- lastName Column -->
          <ng-container matColumnDef="geo">
            <th mat-header-cell *matHeaderCellDef>GEO</th>
            <td mat-cell *matCellDef="let element">{{ element.geo }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <div class="manage-disti-img">
          <img src="../../assets/images/pagination-img.jpg" alt="pagination" />
        </div>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>

<div [ngClass]="{ visible: open }" class="offcanvas-c">
  <div class="offcanvas-c-header">
    <h3>Select Available Partners 2</h3>
    <button class="close-btn" type="button" (click)="hide2()">
      <mat-icon aria-hidden="false" aria-label="close">close</mat-icon>
    </button>
  </div>

  <div class="offcanvas-c-body">
    <div class="title-sec">
      <h5>Edit Distributor Settings</h5>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>Name</mat-label>
          <input matInput required value="INGRAM MICRO - MASTER" />
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>Value</mat-label>
          <input matInput readonly value="0010m00000FxnCZAAZ" disabled />
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>GEO</mat-label>
          <input matInput readonly value="Americas" disabled />
        </mat-form-field>
      </div>
    </div>

    <div class="title-sec">
      <h5>Choose Partners</h5>

      <div class="territory-slct-wrp">
        <div class="row">
          <div class="col-md-12">
            <!-- <mat-form-field class="example-chip-list example-full-width">
                              <mat-label>Available Partners<span class="required"> *</span></mat-label>
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
                              </mat-chip-list>
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      {{fruit}}
                                  </mat-option>
                              </mat-autocomplete>
                          </mat-form-field> -->
            <!-- <mat-form-field class="example-chip-list example-full-width">
                              <mat-label>Available Partners<span class="required"> *</span></mat-label>
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
                              </mat-chip-list>
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      <mat-checkbox (click)="$event.stopPropagation()" (change)="toggleSelection(fruit)">
                                          {{fruit}}
                                      </mat-checkbox>
                                  </mat-option>
                              </mat-autocomplete>
                             
                          </mat-form-field> -->
            <!-- <mat-form-field class="example-full-width">
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
  
                              </mat-chip-list>
  
  
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option (click)="toggleSelectAll()">
                                      <mat-checkbox [checked]="selectAllChecked">{{selectAllChecked ?  'Unselect All' :  'Select All'}}</mat-checkbox>
                                  </mat-option>
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      <mat-checkbox (click)="$event.stopPropagation()" [checked]="selectAllChecked"
                                          (change)="toggleSelection(fruit , $event)">
                                          {{fruit}}
                                      </mat-checkbox>
                                  </mat-option>
                              </mat-autocomplete>
  
                          </mat-form-field> -->

            <div class="example-full-width">
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Search this list..."
                  [formControl]="searchControl"
                  (input)="searching()"
                  [(ngModel)]="searchingText"
                />
                <mat-icon
                  matSuffix
                  class="close-icon"
                  *ngIf="searchingText?.length > 0"
                  (click)="emptyValue()"
                  >close</mat-icon
                >
              </mat-form-field>
            </div>

            <div class="choose-partner-wrp">
              <div class="all-items-selected">
                <button
                  mat-stroked-button
                  color="primary"
                  (click)="selectAllItems()"
                >
                  Select All
                </button>
                <button
                  mat-stroked-button
                  color="primary"
                  (click)="unselectAllItems()"
                >
                  Unselect All
                </button>
              </div>

              <div class="items-selected">
                <p>
                  {{ selectedItemCount() }}/{{ savedDataArray?.length }}
                  selected
                </p>
              </div>
            </div>

            <div class="customize-list">
              <ul>
                <cdk-virtual-scroll-viewport
                  itemSize="50"
                  class="example-viewport"
                >
                  <ng-container>
                    <ng-template [ngIf]="savedResult.length == 0">
                      <li
                        *cdkVirtualFor="
                          let item of items$ | async;
                          trackBy: trackByFn
                        "
                        id="{{ item.id }}"
                      >
                        <mat-checkbox
                          [checked]="isItemSelected(item.id)"
                          (change)="toggleSelections(item.id)"
                          class="example-margin"
                          >{{ item.id }}</mat-checkbox
                        >
                      </li>
                    </ng-template>
                    <ng-template [ngIf]="savedResult.length > 0">
                      <li *ngFor="let item of savedResult; trackBy: trackByFn">
                        <mat-checkbox
                          [checked]="isItemSelected(item.id)"
                          (change)="toggleSelections(item.id)"
                          class="example-margin"
                          >{{ item.id }}</mat-checkbox
                        >
                      </li>
                    </ng-template>
                  </ng-container>
                </cdk-virtual-scroll-viewport>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="offcanvas-c-action">
    <button mat-button mat-raised-button mat-dialog-close color="primary">
      Update
    </button>
    <button mat-button (click)="hide2()">Cancel</button>
  </div>
</div>

<div [ngClass]="{ show: open }" class="offcanvas-c-backdrop"></div>

<div [ngClass]="{ visible2: open2 }" class="offcanvas-c new">
  <div class="offcanvas-c-header">
    <h3>Select Available Partners</h3>
    <button class="close-btn" type="button" (click)="hide2()">
      <mat-icon aria-hidden="false" aria-label="close">close</mat-icon>
    </button>
  </div>

  <div class="offcanvas-c-body">
    <div class="title-sec">
      <h5>Edit Distributor Settings</h5>
    </div>

    <div class="row">
      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>Name</mat-label>
          <input matInput required value="INGRAM MICRO - MASTER" />
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>Value</mat-label>
          <input matInput readonly value="0010m00000FxnCZAAZ" disabled />
        </mat-form-field>
      </div>

      <div class="col-md-12">
        <mat-form-field class="example-full-width offcanvas-c-controls">
          <mat-label>GEO</mat-label>
          <input matInput readonly value="Americas" disabled />
        </mat-form-field>
      </div>
    </div>

    <div class="title-sec">
      <h5>Choose Partners</h5>

      <div class="territory-slct-wrp">
        <div class="row">
          <div class="col-md-12">
            <!-- <mat-form-field class="example-chip-list example-full-width">
                              <mat-label>Available Partners<span class="required"> *</span></mat-label>
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
                              </mat-chip-list>
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      {{fruit}}
                                  </mat-option>
                              </mat-autocomplete>
                          </mat-form-field> -->
            <!-- <mat-form-field class="example-chip-list example-full-width">
                              <mat-label>Available Partners<span class="required"> *</span></mat-label>
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
                              </mat-chip-list>
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      <mat-checkbox (click)="$event.stopPropagation()" (change)="toggleSelection(fruit)">
                                          {{fruit}}
                                      </mat-checkbox>
                                  </mat-option>
                              </mat-autocomplete>
                             
                          </mat-form-field> -->
            <!-- <mat-form-field class="example-full-width">
                              <mat-chip-list #chipList aria-label="Territories selection">
                                  <mat-chip *ngFor="let list of territories" (removed)="remove(list)">
                                      {{list}}
                                      <button matChipRemove class="chip-cancel-btn">
                                          <mat-icon>cancel</mat-icon>
                                      </button>
                                  </mat-chip>
                                  <input placeholder="Choose Partners..." #listInput [formControl]="listCtrl"
                                      [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                      (matChipInputTokenEnd)="add($event)">
  
                              </mat-chip-list>
  
  
                              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTerritories($event)">
                                  <mat-option (click)="toggleSelectAll()">
                                      <mat-checkbox [checked]="selectAllChecked">{{selectAllChecked ?  'Unselect All' :  'Select All'}}</mat-checkbox>
                                  </mat-option>
                                  <mat-option *ngFor="let fruit of filteredTerritories | async" [value]="fruit">
                                      <mat-checkbox (click)="$event.stopPropagation()" [checked]="selectAllChecked"
                                          (change)="toggleSelection(fruit , $event)">
                                          {{fruit}}
                                      </mat-checkbox>
                                  </mat-option>
                              </mat-autocomplete>
  
                          </mat-form-field> -->

            <div class="example-full-width">
              <mat-form-field class="example-full-width">
                <input
                  matInput
                  placeholder="Search this list..."
                  autocomplete="off"
                />
              </mat-form-field>
            </div>

            <div class="choose-partner-wrp">
              <div class="all-items-selected">
                <button
                  mat-stroked-button
                  color="primary"
                  (click)="selectAllItems()"
                >
                  Select All
                </button>
                <button
                  mat-stroked-button
                  color="primary"
                  (click)="unselectAllItems()"
                >
                  Unselect All
                </button>
              </div>

              <div class="items-selected">
                <p>
                  {{ selectedItemCount() }}/{{ savedDataArray?.length }}
                  selected
                </p>
                <!-- <p>Selected Count: {{ selectedItemCount() }}</p> -->
              </div>
            </div>

            <div class="customize-list">
              <ul>
                <!-- <li matTooltip="North"><mat-checkbox class="example-margin" [checked]="true"></mat-checkbox>North</li>
                                  <li matTooltip="South"><mat-checkbox class="example-margin" [checked]="true"></mat-checkbox>South</li>
                                  <li matTooltip="East"><mat-checkbox class="example-margin"></mat-checkbox>East</li> -->
                <li *ngFor="let item of items">
                  <mat-checkbox
                    [checked]="isItemSelected(item.id)"
                    (change)="toggleSelections(item.id)"
                    class="example-margin"
                    >{{ item.id }}</mat-checkbox
                  >
                </li>
              </ul>
            </div>

            <!-- <div *ngFor="let item of items">
                              <p>{{ item.title }}</p>
                            </div>
                             -->
            <!-- <button (click)="loadNextPage()">Load More</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="offcanvas-c-action">
    <button mat-button mat-raised-button mat-dialog-close color="primary">
      Update
    </button>
    <button mat-button (click)="hide2()">Cancel</button>
  </div>
</div>

<div [ngClass]="{ show: open2 }" class="offcanvas-c-backdrop"></div>
